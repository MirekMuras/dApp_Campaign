{"version":3,"file":"4.9ed9113dd7d19e988c55.hot-update.js","sources":["webpack:///pages/campaigns/new.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Message } from 'semantic-ui-react';\nimport Layout from '../../components/Layout';\nimport factory from '../../ethereum/factory';\nimport web3 from '../../ethereum/web3';\nimport { Router } from '../../routes';\n\nclass CampaignNew extends Component {\n    state = {\n        minimumContribution:'',\n        errorMessage:'',\n        loading: false\n    };\n\n    //@dev: event-handler method\n    onSubmit = async (event)=> {\n        event.preventDefault();\n\n        this.setState({ loading: true, errorMessage:''});\n\n        try {\n            const accounts = await web3.eth.getAccounts();      //lists of all accounts\n            await factory.methods                               // create campaign on the contract\n                .createCampaign(this.state.minimumContribution)\n                .send({ \n                    from: accounts[0]\n                });\n                \n                Router.pushRoute('/');                          //redirect user to index rout\n        } catch (err) {\n            this.setState({ errorMessage: err.message });\n            console.log(err.message);\n        }\n\n        this.setState({ loading: false });\n    };\n\n\n    render() {\n        return (\n            <Layout>\n                <h3>Create a Campaign !</h3>\n\n                <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n                    \n                    <Form.Field>\n                        <label>Minimum Contribution</label>\n                        <Input \n                            placeholder='Enter minimum of 100 WEI here'\n                            label=\"wei\" \n                            labelPosition='right' \n                            value={this.state.minimumContribution}\n                            onChange={event => \n                                this.setState({minimumContribution: event.target.value}) \n                            }\n                        />\n                    </Form.Field>\n\n                    <Message error header='Oops!' content={this.state.errorMessage} />\n\n                    <Button primary loading={this.state.loading} primary>\n                    Create !\n                    </Button>\n                    \n                </Form>\n            </Layout>\n        ); \n    }\n}\n\nexport default CampaignNew;\n\n\n// WEBPACK FOOTER //\n// pages/campaigns/new.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;;;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AAOA;AAGA;AADA;AACA;AAVA;AAaA;AACA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAcA;AAAA;AAAA;AACA;AAAA;AACA;AAjBA;AAmBA;AAAA;AAAA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAsBA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AALA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA5DA;AACA;AA8DA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}